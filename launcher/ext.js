function cb_start(){}function cb_restart(){}function cb_share(){}function cb_more(){}function cb_finishload(){$("#xccgame-loading").remove(),myStateObj.fetched?(fetched.show(),fetched.setCouponName(myStateObj.coupon)):notFetched.show()}function cb_gameover(e){if(allPause(),e<couponLevel[0].score)failInGame.show(),failInGame.setScore(e);else{var t=0;couponLevel.forEach(function(n){e>=n.score&&(t=n.money)}),getCoupon.show(),getCoupon.setScore(e,t)}}function checkCoupon(){window.location.href=checkCouponAddress}function checkStore(){window.location.href=checkStoreAddress}function sendInfo(e,t){post(postUrl,{score:getCoupon.score,realName:e,mobile:t}).then(function(e){console.log(e),getSuccess.show()},function(e,t){console.log(e,t),getFail.show()})}function showShare(){$(".share-tips").show()}function hideShare(){$(".share-tips").hide()}function Dialog(e,t){this.id=e,this.added=!1,this.delay=0,this.score=0,this.init=function(){$("body").append($(this.id+"Tpl").html()),this.addTouchEvent()},this.addTouchEvent=function(){},this.show=function(){this.added||this.init(),$(".matte").show(),$(this.id).show()},this.hide=function(){$(".matte").hide(),$(this.id).hide()},this.restart=function(){allResume(),restartGame(),this.hide()},this.setScore=function(e,t){this.score=e,$(this.id).find(".score").text(e),$(this.id).find(".money").text(t)};for(var n in t)this[n]=t[n]}function post(e,t){return new Promise(function(n,i){$.ajax({type:"POST",url:e,data:t,timeout:"300",success:function(e){resolve(e)},error:function(e,t){i(e,t)}})})}var notFetched=new Dialog("#notFetched"),fetched=new Dialog("#fetched",{setCouponName:function(e){$(this.id).find(".coupon-name").text(e)}}),activityRule=new Dialog("#activityRule",{hide:function(){$(this.id).hide()}}),failInGame=new Dialog("#failInGame"),getCoupon=new Dialog("#getCoupon",{showConfirm:function(){var e=$(this.id).find(".name").val(),t=$(this.id).find(".phone").val();return e?/^1[3|4|5|7|8]\d{9}$/.test(t)?(sendConfirm.show(),void sendConfirm.setInfo(e,t)):(alert("请输入正确的电话号码！"),!1):(alert("请输入名字！"),!1)}}),getSuccess=new Dialog("#getSuccess",{setDate:function(e){$(this.id).find(".begin-month").text(e.bMonth),$(this.id).find(".begin-date").text(e.bDate),$(this.id).find(".end-month").text(e.eMonth),$(this.id).find(".end-date").text(e.eDate)}}),getFail=new Dialog("#getFail",{hide:function(){$(this.id).hide()}}),sendConfirm=new Dialog("#sendConfirm",{hide:function(){$(this.id).hide()},userName:"",userPhone:"",setInfo:function(e,t){this.userName=e,this.userPhone=t,$(this.id).find(".phone").text(t)},sendInfo:function(){sendInfo(this.userName,this.userPhone),this.hide()}});$(window).on("orientationchange",function(){90===Math.abs(window.orientation)?($(".orientation-tips").show(),gameStarted&&allPause()):($(".orientation-tips").hide(),gameStarted?allResume():egretStart())});